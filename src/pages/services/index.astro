---
import FeatureServiceSection from "@/components/shared/FeatureServiceSection.astro";
import ServicesCTA from "@/components/shared/ServicesCTA.astro";
import WebsiteLayout from "@/layouts/websiteLayout.astro";
import SEO from "@/components/shared/SEO.astro";
import { generateBreadcrumbSchema } from "@/lib/seo-utils";
import { getLangFromUrl } from "@/i18n/utils";

export const prerender = false;

const lang = getLangFromUrl(Astro.url);
const siteUrl = Astro.site?.href || Astro.url.origin;
const breadcrumbSchema = generateBreadcrumbSchema([
  { name: 'Home', url: `${siteUrl}/en` },
  { name: 'Services', url: `${siteUrl}/en/services` }
]);
---

<WebsiteLayout
  title="Services"
  seoTitle="Cleanroom Certification and Performance Testing Services | Star Filters"
  description="Cleanroom performance testing to ensure controlled areas operate under optimal conditions. Air and filtration system validation in Mexico."
  keywords={[
    'cleanroom testing',
    'cleanroom certification',
    'ISO 14644 validation',
    'HEPA filter testing',
    'particle count testing',
    'air balancing'
  ]}
>
  <SEO
    slot="seo"
    title="Cleanroom Certification and Performance Testing Services"
    description="Cleanroom performance testing to ensure controlled areas operate under optimal conditions. Air and filtration system validation in Mexico."
    ogType="website"
    keywords={[
      'cleanroom testing',
      'cleanroom certification',
      'ISO 14644 validation'
    ]}
  />

  <script slot="seo" type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} is:inline />
  <FeatureServiceSection />
  <ServicesCTA />
</WebsiteLayout>
