---
import { getLangFromUrl, useTranslations } from '@/i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const testimonials = [
  {
    body: t('testimonials.testimonial1'),
    author: t('testimonials.testimonial1.author'),
    role: t('testimonials.testimonial1.role'),
    imageUrl: '/images/home-page/flex.png',
    imageAlt: t('testimonials.testimonial1.author'),
  },
  {
    body: t('testimonials.testimonial2'),
    author: t('testimonials.testimonial2.author'),
    role: t('testimonials.testimonial2.role'),
    imageUrl: '/images/home-page/life.png',
    imageAlt: t('testimonials.testimonial2.author'),
  },
  {
    body: t('testimonials.testimonial3'),
    author: t('testimonials.testimonial3.author'),
    role: t('testimonials.testimonial3.role'),
    imageUrl: '/images/home-page/envases.png',
    imageAlt: t('testimonials.testimonial3.author'),
  },
  {
    body: t('testimonials.testimonial4'),
    author: t('testimonials.testimonial4.author'),
    role: t('testimonials.testimonial4.role'),
    imageUrl: '/images/home-page/nordin.png',
    imageAlt: t('testimonials.testimonial4.author'),
  },
  {
    body: t('testimonials.testimonial5'),
    author: t('testimonials.testimonial5.author'),
    role: t('testimonials.testimonial5.role'),
    imageUrl: '/images/home-page/itc.png',
    imageAlt: t('testimonials.testimonial5.author'),
  },
  {
    body: t('testimonials.testimonial6'),
    author: t('testimonials.testimonial6.author'),
    role: t('testimonials.testimonial6.role'),
    imageUrl: '/images/home-page/nbpp.png',
    imageAlt: t('testimonials.testimonial6.author'),
  },
];
---

<div class="bg-background py-12 sm:py-16">
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="mx-auto max-w-2xl text-center">
      <h2 class="text-base/7 font-semibold text-primary">{t('testimonials.badge')}</h2>
      <p
        class="mt-2 text-4xl font-semibold tracking-tight text-balance text-foreground sm:text-5xl"
      >
        {t('testimonials.title')}
      </p>
    </div>
    <div
      class="mx-auto mt-16 flow-root max-w-5xl sm:mt-20 lg:mx-0 lg:max-w-none"
    >
      <div class="grid gap-8 sm:grid-cols-2">
        {testimonials.map((testimonial) => (
          <div class="rounded-2xl bg-muted p-8 text-sm/6">
            <blockquote class="text-foreground">
              <p>{`“${testimonial.body}”`}</p>
            </blockquote>
            <figcaption class="mt-6 flex items-center gap-x-4">
              <div class="flex size-12 items-center justify-center rounded-full bg-white p-1 shadow-inner">
                <img
                  src={testimonial.imageUrl}
                  alt={testimonial.imageAlt}
                  class="max-h-full max-w-full object-contain"
                />
              </div>
              <div>
                <div class="font-semibold text-foreground">{testimonial.author}</div>
                <div class="text-muted-foreground">{testimonial.role}</div>
              </div>
            </figcaption>
          </div>
        ))}
      </div>
    </div>
  </div>
</div>
